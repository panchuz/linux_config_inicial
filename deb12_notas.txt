.enable-oneshot... apt update && apt dist-upgrade / apt clean && apt autoremove /../ shutdown now


.renamehost conservador funcionando
.oneshot regenerate_ssh_host_keys.sh & renamehost-dangerous_mailname (simlink)


.mailx y configuración notificaciones "only-on-error" unattended upgrades
.configuración postfix

.deb11 en "From" / root, panchuz y nobody destinatarios de mail
apt install libsasl2-modules postfix-pcre

./etc/postfix/main.ct < "relayhost = [smtp.gmail.com]:587"
smtp_sasl_auth_enable = yes
smtp_sasl_security_options = noanonymous
smtp_sasl_password_maps = hash:/etc/postfix/sasl/sasl_passwd
smtp_tls_security_level = encrypt
smtp_tls_CAfile = /etc/ssl/certs/ca-certificates.crt
"mydestination ="

.apt install libsasl2-modules bsd-mailx   # bsd-mailx es solo para probar usando mailx... creo



. /etc/apt/apt.conf.d/50unattended-upgrades < "remove unused packages ...."
. Ref: https://www.youtube.com/watch?v=Jnxx_IAC0G4&t=293s
.apt install unattended-upgrades ## y apt-listchanges si no está

.-- cargar private key en putty y completar la session --
.chmod -R go= ~/.ssh
.echo ""ssh_public_key (ed25519)""  >> ~/.ssh/authorized_keys instalada para panchuz
.mkdir ~/ssh
.-- puttygen: eddsa-key-20230629_panchuz@deb12.pampa.ppk --

./etc/ssh/sshd_config.d/sshd_config_panchuz.conf < "Port 31422", "PermitRootLogin no", "PasswordAuthentication no"

.sudo setcap cap_net_raw+p $(which ping) # http://unixetc.co.uk/2016/05/30/linux-capabilities-and-ping/
.usermod -aG sudo,systemd-journal,adm panchuz
.adduser panchuz

.apt install sudo
.apt update & apt dist-upgrade
.dpkg-reconfigure tzdata # /etc/localtime -> /usr/share/zoneinfo/America/Argentina/Buenos_Aires

# agregado por panchuz 2023-07-04
# ref: https://wiki.debian.org/Locale#Standard
: "${LANG:=C.utf8}"; export LANG

echo "LANG=C.utf8" > /etc/profile.d/profile_panchuz.sh

.echo "LANG=C.UTF-8" > /etc/default/locale # 
https://www.debian.org/doc/manuals/debian-reference/ch08.en.html#_rationale_for_utf_8_locale


######



###########################

#Referencias
https://www.youtube.com/watch?v=GUpZELktYKQ
https://www.groovypost.com/howto/set-the-time-zone-in-linux/#:~:text=You can check this by,to set the time zone.
##Configurar Postfix para usar Gmail relay SMTP (panchuz.ar@gmail.com)
https://www.lynksthings.com/posts/sysadmin/mailserver-postfix-gmail-relay/
https://forum.proxmox.com/threads/get-postfix-to-send-notifications-email-externally.59940/
https://serverfault.com/questions/744761/postfix-aliases-will-be-ignored

https://www.learnlinux.tv/resetting-openssh-host-keys-the-easy-method/
https://wiki.debian.org/Hostname#Mailname
